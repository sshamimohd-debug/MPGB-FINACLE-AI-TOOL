<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>PDF Viewer</title>
<script src="https://cdn.jsdelivr.net/npm/pdfjs-dist@4.10.38/build/pdf.min.js"></script>
<style>
body{margin:0;font-family:Arial}
header{padding:8px;background:#eee}
canvas{display:block;margin:auto}
</style>
</head>
<body>

<header>
  <a href="javascript:history.back()">â¬… Back</a>
</header>

<canvas id="c"></canvas>

<script>
pdfjsLib.GlobalWorkerOptions.workerSrc =
 "https://cdn.jsdelivr.net/npm/pdfjs-dist@4.10.38/build/pdf.worker.min.js";

const qs = new URLSearchParams(location.search);
const file = qs.get("file");
const pageNo = parseInt(qs.get("page") || "1");

(async()=>{
  const pdf = await pdfjsLib.getDocument(file).promise;
  const page = await pdf.getPage(pageNo);
  const vp = page.getViewport({scale:1.4});
  const c = document.getElementById("c");
  c.width = vp.width;
  c.height = vp.height;
  await page.render({canvasContext:c.getContext("2d"),viewport:vp}).promise;
})();
</script>
</body>
</html>
